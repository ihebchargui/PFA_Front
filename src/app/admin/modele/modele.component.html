<div class="content-page">

    <!-- Start content -->
    <div class="content">

        <div class="container-fluid">


            <div class="row">
                <div class="col-xl-12">
                    <div class="breadcrumb-holder">
                        <h1 class="main-title float-left">Modele</h1>
                        <ol class="breadcrumb float-right">
                            <li class="breadcrumb-item">Home</li>
                            <li class="breadcrumb-item active">List Modele</li>
                        </ol>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
            <!-- end row -->

            <div class="row">

                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">

                    <div class="card mb-3">

                        <div class="card-header">

                            <span class="pull-right">
                            <button class="btn btn-primary btn-sm" (click)="onOpenModal(null, 'add')" data-toggle="modal" data-target="#modal_add_modele">
                            <i class="fas fa-plus" aria-hidden="true"></i> Add new modele</button></span>
                            <h3><i class="fas fa-photo-video"></i> Modele</h3>

                            <!--div class="modal fade custom-modal" tabindex="-1" role="dialog" aria-labelledby="modal_add_slide" aria-hidden="true" id="modal_add_slide">
                                <div class="modal-dialog">
                                    <div class="modal-content">

                                        <form #addForm="ngForm" (ngSubmit)="onAddMarque(addForm)">

                                            <div class="modal-header">
                                                <h5 class="modal-title">Add new marque</h5>
                                                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                            </div>

                                            <div class="modal-body">

                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="form-group">
                                                            <label>Name</label>
                                                            <input type="text" ngModel name="nom" class="form-control" id="nom" placeholder="Name" required>
                                                        </div>
                                                    </div>
                                                </div>

                                            -->


                                

                                                <!--div class="form-group">
                                                    <label>Slide image (required):</label> <br />
                                                    <input type="file" class="form-control" ngModel name="image" id="image">
                                                </div--><!--
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1" >Picture Url</label>
                                                    <input type="text" class="form-control" ngModel name="image" id="image">
                                                  </div>

                                            </div>

                                            <div class="modal-footer">
                                                <button type="button" id="add-marque-form" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary" >Sauvegarder</button>
                                             </div>

                                        </form>

                                    </div>
                                </div>
                            </div-->

                        </div>
                        <!-- end card-header -->

                        <div class="card-body" id="main-container">
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th style="width:200px">Image</th>
                                            <th style="min-width:250px">Modele</th>
                                            <th style="width:200px">Marque</th>
                                            <th style="min-width:140px">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                        <tr *ngFor="let modele of modeles">

                                            <td>
                                                <img alt="image" class="img-fluid img_slider" src="{{modele.image}}" />
                                            </td>

                                            <td>
                                                <h5>{{modele.nom}}</h5>
                                            </td>

                                            <td>
                                                <img alt="image" class="img-fluid img_slider" src="{{modele.marque.image}}" />
                                            </td>

                                            <td>
                                                <!--a href="#" class="btn btn-primary btn-sm btn-block"><i class="fas fa-search"></i> Edit slide</a>
                                                <a href="#" class="btn btn-danger btn-sm btn-block mt-2"><i class="fas fa-trash"></i> Delete slide</a-->

                                                    <a (click)="onOpenModal(modele, 'edit')" class="btn " data-placement="top" data-original-title="Edit">
                                                        <i  style='font-size:20px' class='fas fa-user-edit '></i>
                                                    </a>

                                                    <a (click)="onOpenModal(modele, 'delete')" class="btn">
                                                        <span>
                                                            <i  style='font-size:20px; margin-left: 5px;' class="far fa-trash-alt "></i>
                                                        </span>
                                                    </a>


                                            </td>
                                        </tr>
                    
                                        
                                    </tbody>
                                </table>
                            </div>



<!-- Add Employee Modal -->
<div class="modal fade" id="addModeleModal" tabindex="-1" role="dialog" aria-labelledby="addModeleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="addModeleModalLabel">Add Modele</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <form #addForm="ngForm" (ngSubmit)="onAddModele(addForm)">
            <div class="form-group">
               <label for="name">Name</label>
               <input type="text" ngModel name="nom" class="form-control" id="nom" placeholder="Name" required>
            </div>
            
            <div class="form-group">
              <label for="exampleInputEmail1" >Picture Url</label>
              <input type="text" class="form-control" ngModel name="image" id="image">
            </div>
            
            <div class="form-group">
                <label>Marque </label>
                <select class="form-control" ngModel name="id" id="id_marque">
                <option value="0">-Select-</option>
                <option *ngFor="let item of MarqueList" class="form-control" value="{{item.id}}">{{item.nom}}</option>
            </select>
               
              </div>
            
            
            <div class="modal-footer">
               <button type="button" id="add-modele-form" class="btn btn-secondary" data-dismiss="modal">Close</button>
               <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary" >Sauvegarder</button>
            </div>
            </form>
         </div>
      </div>
    </div>
    </div>


<!-- Edit Modal -->
<div class="modal fade" id="updateModeleModal" tabindex="-1" role="dialog" aria-labelledby="modeleEditModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
       <div class="modal-content">
          <div class="modal-header">
             <h5 class="modal-title" id="updateModeleModalLabel">Edit modele {{editModele?.nom}}</h5>
             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true">&times;</span>
             </button>
          </div>
          <div class="modal-body">
             <form #editForm="ngForm">

                <div class="form-group">
                   <label for="name">Name</label>
                   <input type="text" ngModel="{{editModele?.nom}}" name="nom" class="form-control" id="nom" aria-describedby="emailHelp" placeholder="Name">
                </div>
                <input type="hidden" ngModel="{{editModele?.id}}" name="id" class="form-control" id="id" placeholder="Email">
               
                
                <div class="form-group">
                  <label for="exampleInputEmail1" >Picture Url</label>
                  <input type="text" class="form-control" ngModel="{{editModele?.image}}" name="image" id="image">
                </div>

                <div class="form-group">
                    <label>Marque </label>
                    <select class="form-control"  ngModel="{{editModele?.marque.id}}" name="id" id="id_marque">
                    <option value="0">-Select-</option>
                    <option *ngFor="let item of MarqueList" class="form-control" value="{{item.id}}">{{item.nom}}</option>
                </select>
                   
                  </div>
              
                <div class="modal-footer">
                   <button type="button" id="" data-dismiss="modal" class="btn btn-secondary">Close</button>
                   <button (click)="onUpdateModele(editForm.value)" data-dismiss="modal" class="btn btn-primary" >Sauvegarder</button>
                </div>
             </form>
          </div>
       </div>
    </div>
  </div>


    <!-- Delete Modal -->
    <div class="modal fade" id="deleteModeleModal" tabindex="-1" role="dialog" aria-labelledby="deleteModelLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
           <div class="modal-content">
              <div class="modal-header">
                 <h5 class="modal-title" id="deleteModelLabel">Delete modele</h5>
                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                 <span aria-hidden="true">&times;</span>
                 </button>
              </div>
              <div class="modal-body">
                 <p>Are you sure you want to delete the modele {{deleteModele?.nom}}?</p>
                 <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                    <button (click)="onDeleteModele(deleteModele?.id)" class="btn btn-danger" data-dismiss="modal">Yes</button>
                 </div>
              </div>
           </div>
        </div>
      </div>















                            
                        </div>
                        <!-- end card-body -->

                    </div>
                    <!-- end card -->

                </div>
                <!-- end col -->

            </div>
            <!-- end row -->



        </div>
        <!-- END container-fluid -->

    </div>
    <!-- END content -->

</div>
<!-- END content-page -->
